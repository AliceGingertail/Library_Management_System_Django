{% extends 'basic.html' %}
{% load static %}
{% block title %} Система управления библиотекой {% endblock %}
{% block css %}
<style>
    .errorlist {
        color: red;
        list-style-type: none;
        padding: 0;
    }
    .helptext {
        font-size: 0.9em;
        color: #666;
    }
</style>
{% endblock %}
{% block body %}
<div class="container">
    <form method="POST" enctype="multipart/form-data"> {% csrf_token %}
        <br>
        <h1 class="text-center"><u>Регистрация студента</u></h1>

        {% if form.non_field_errors %}
            <div class="alert alert-danger">
                {{ form.non_field_errors }}
            </div>
        {% endif %}

        <div class="row mt-4">
            <div class="form-group col-md-12">
                <label><i style="font-weight: bold;">{{ form.username.label }}</i></label>
                {{ form.username }}
                {% if form.username.errors %}
                    <div class="text-danger">{{ form.username.errors }}</div>
                {% endif %}
            </div>
        </div>

        <div class="row mt-4">
            <div class="form-group col-md-6">
                <label><i style="font-weight: bold;">{{ form.first_name.label }}</i></label>
                {{ form.first_name }}
                {% if form.first_name.errors %}
                    <div class="text-danger">{{ form.first_name.errors }}</div>
                {% endif %}
            </div>
            <div class="form-group col-md-6">
                <label><i style="font-weight: bold;">{{ form.last_name.label }}</i></label>
                {{ form.last_name }}
                {% if form.last_name.errors %}
                    <div class="text-danger">{{ form.last_name.errors }}</div>
                {% endif %}
            </div>
        </div>

        <div class="row mt-4">
            <div class="form-group col-md-6">
                <label><i style="font-weight: bold;">{{ form.email.label }}</i></label>
                {{ form.email }}
                {% if form.email.errors %}
                    <div class="text-danger">{{ form.email.errors }}</div>
                {% endif %}
            </div>
            <div class="form-group col-md-6">
                <label><i style="font-weight: bold;">{{ form.phone.label }}</i></label>
                {{ form.phone }}
                {% if form.phone.errors %}
                    <div class="text-danger">{{ form.phone.errors }}</div>
                {% endif %}
            </div>
        </div>

        <div class="row mt-4">
            <div class="form-group col-md-6">
                <label><i style="font-weight: bold;">{{ form.classroom.label }}</i></label>
                {{ form.classroom }}
                {% if form.classroom.errors %}
                    <div class="text-danger">{{ form.classroom.errors }}</div>
                {% endif %}
            </div>
            <div class="form-group col-md-6">
                <label><i style="font-weight: bold;">{{ form.branch.label }}</i></label>
                {{ form.branch }}
                {% if form.branch.errors %}
                    <div class="text-danger">{{ form.branch.errors }}</div>
                {% endif %}
            </div>
        </div>

        <div class="row mt-4">
            <div class="form-group col-md-6">
                <label><i style="font-weight: bold;">{{ form.roll_no.label }}</i></label>
                {{ form.roll_no }}
                {% if form.roll_no.errors %}
                    <div class="text-danger">{{ form.roll_no.errors }}</div>
                {% endif %}
            </div>
            <div class="form-group col-md-6">
                <label><i style="font-weight: bold;">{{ form.image.label }}</i></label>
                {{ form.image }}
                {% if form.image.errors %}
                    <div class="text-danger">{{ form.image.errors }}</div>
                {% endif %}
            </div>
        </div>

        <div class="row mt-4">
            <div class="form-group col-md-6">
                <label><i style="font-weight: bold;">{{ form.password.label }}</i></label>
                {{ form.password }}
                <small class="form-text text-muted">{{ form.password.help_text }}</small>
                {% if form.password.errors %}
                    <div class="text-danger">{{ form.password.errors }}</div>
                {% endif %}
            </div>
            <div class="form-group col-md-6">
                <label><i style="font-weight: bold;">{{ form.confirm_password.label }}</i></label>
                {{ form.confirm_password }}
                {% if form.confirm_password.errors %}
                    <div class="text-danger">{{ form.confirm_password.errors }}</div>
                {% endif %}
            </div>
        </div>
        <button type="submit" class="btn btn-outline-primary mt-4">Зарегистрироваться</button>
    </form>
</div>
{% endblock %}
{% block js %}
<script>
    {% if alert %}
    alert("Регистрация прошла успешно!")
    document.location = "/student_login"
    {% endif %}
</script>
{% endblock %}
